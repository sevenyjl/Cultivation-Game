[gd_scene load_steps=3 format=3 uid="uid://q4dsd2o5ecm7"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_cs4d1"]
content_margin_left = 5.0
content_margin_top = 5.0
content_margin_right = 5.0
content_margin_bottom = 5.0
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5
shadow_color = Color(0.26566315, 0.32244286, 1, 0.6)
shadow_size = 3
anti_aliasing_size = 1.035

[sub_resource type="GDScript" id="GDScript_ikfue"]
script/source = "extends PanelContainer

@export var default_name:String=\"\"
@export var tips:Node

func _notification(what: int) -> void:
	$Label.text=default_name

func _process(delta: float) -> void:
	if !is_visible_in_tree():
		return
	$Label.text=default_name
	if tips==null:
		return
	var global_show_inside_id=get_tree().root.get_meta(\"global_show_inside_id\",\"\")
	if global_show_inside_id!=\"\" and  global_show_inside_id!=str(get_instance_id()):
		return
	var is_mouse_inside=self.get_meta(\"is_mouse_inside\",false)
	if self.get_global_rect().has_point(get_global_mouse_position()):
		if is_mouse_inside:
			# 在显示中
			pass
		else:
			self.set_meta(\"is_mouse_inside\",true)
			get_tree().root.set_meta(\"global_show_inside_id\",str(get_instance_id()))
			var tips=self.get_node(\"Tips/Panel\") as PanelContainer
			tips.visible=true
			tips.global_position=get_global_mouse_position()
			pass
	else:
		if is_mouse_inside:
			var tips=self.get_node(\"Tips/Panel\") as PanelContainer
			if tips.get_global_rect().has_point(get_global_mouse_position()):
				# 认为任然在
				pass
			else:
				self.set_meta(\"is_mouse_inside\",false)
				get_tree().root.set_meta(\"global_show_inside_id\",\"\")
				tips.visible=false
				pass
		else:
			# 本来就不在
			pass
	pass
"

[node name="武器" type="PanelContainer"]
custom_minimum_size = Vector2(100, 100)
theme_override_styles/panel = SubResource("StyleBoxFlat_cs4d1")
script = SubResource("GDScript_ikfue")

[node name="Label" type="Label" parent="."]
layout_mode = 2
text = "武器"
horizontal_alignment = 1
vertical_alignment = 1
