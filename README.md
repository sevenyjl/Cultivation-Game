# 修仙文字游戏

## 对象设计

### 基础修炼者

等级：（1 级开始，1-10 级为炼气，11-20 级为筑基，以此类推）

? （1 级开始，1-10 级为炼气，11-20 级为筑基，以此类推） 筑基后面都有什么境界呀

升级所需灵气：(0~v)
k = floor((lv - 1) / 10)
v = 50 × lv × (lv + 1) × (1 + 0.3 × k)

### 修炼地

存储灵气上限（L）：当前可存储的最大灵气值（初始范围 0-L(R)）
初始值：L(1) = 100
公式：L(R) = L(R-1) × (1 + 0.5) → 即每级上限 ×1.5（叠加增长）

当前存储灵气（C）：实时变化，受生产和修仙者吸收影响（0 ≤ C ≤ L）

灵气生产速度（V）：单位时间（秒）自动产生的灵气值（基础值随等级提升）

公式：V(R) = V(R-1) × (1 + 0.3) + 2 → 每级在原有基础上 ×1.3 再加 2（兼顾倍率与固定增长）

溢出经验（E）：当生产灵气导致 C 超过 L 时，超出部分转化为经验（用于修炼地升级）

当修炼地自动生产灵气时：
每秒新增灵气 = V (R)，当前存储灵气 C = C + V(R) × 1秒
若 C > L(R)，则溢出经验 E = E + (C - L(R))，同时 C 重置为 L(R)（满值）
当 E ≥ Exp(R) 时，修炼地升级：R += 1，E 扣除 Exp(R)（剩余经验保留），并按公式更新 L 和 V

修炼地等级（R）：初始 1 级，通过积累溢出经验升级

升级所需经验（E）：（0~Exp(R)）
Exp(R) = 200 × R × (R + 1)